import{y as V,z as W,K as _,C as K,ao as X,r as c,D as N,ap as z,aq as q,m as w,O as Q,ag as J,a1 as Z,a3 as ee,ah as te,ar as ne,a2 as oe,as as se,at as ae,au as re,n as C,av as ie,aw as le,ax as ce,d as de,j as u,L as G,T as ue,B as F,M as pe,ay as ge,a as me}from"./index-uUpZomyQ.js";import{u as fe,a as ye,b as xe,c as he}from"./Ielts-query-BGPdEFI_.js";import{F as M}from"./index-BGInF3ZI.js";import{C as ve,a as Ce,F as be,S as L,R as Ie}from"./Table-XGYKetWf.js";import{I as Oe}from"./index-VUfoB9ds.js";import"./row-B70nMuzF.js";const $e=e=>{const{componentCls:t,iconCls:s,boxShadow:n,colorText:o,colorSuccess:a,colorError:m,colorWarning:f,colorInfo:l,fontSizeLG:i,motionEaseInOutCirc:p,motionDurationSlow:d,marginXS:x,paddingXS:y,borderRadiusLG:r,zIndexPopup:g,contentPadding:b,contentBg:j}=e,$=`${t}-notice`,I=new _("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:y,transform:"translateY(0)",opacity:1}}),S=new _("MessageMoveOut",{"0%":{maxHeight:e.height,padding:y,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),v={padding:y,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${s}`]:{marginInlineEnd:x,fontSize:i},[`${$}-content`]:{display:"inline-block",padding:b,background:j,borderRadius:r,boxShadow:n,pointerEvents:"all"},[`${t}-success > ${s}`]:{color:a},[`${t}-error > ${s}`]:{color:m},[`${t}-warning > ${s}`]:{color:f},[`${t}-info > ${s},
      ${t}-loading > ${s}`]:{color:l}};return[{[t]:Object.assign(Object.assign({},K(e)),{color:o,position:"fixed",top:x,width:"100%",pointerEvents:"none",zIndex:g,[`${t}-move-up`]:{animationFillMode:"forwards"},[`
        ${t}-move-up-appear,
        ${t}-move-up-enter
      `]:{animationName:I,animationDuration:d,animationPlayState:"paused",animationTimingFunction:p},[`
        ${t}-move-up-appear${t}-move-up-appear-active,
        ${t}-move-up-enter${t}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:S,animationDuration:d,animationPlayState:"paused",animationTimingFunction:p},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${$}-wrapper`]:Object.assign({},v)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},v),{padding:0,textAlign:"start"})}]},je=e=>({zIndexPopup:e.zIndexPopupBase+X+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}),H=V("Message",e=>{const t=W(e,{height:150});return[$e(t)]},je);var Se=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const Ee={info:c.createElement(te,null),success:c.createElement(ee,null),error:c.createElement(Z,null),warning:c.createElement(J,null),loading:c.createElement(Q,null)},Y=({prefixCls:e,type:t,icon:s,children:n})=>c.createElement("div",{className:w(`${e}-custom-content`,`${e}-${t}`)},s||Ee[t],c.createElement("span",null,n)),Pe=e=>{const{prefixCls:t,className:s,type:n,icon:o,content:a}=e,m=Se(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:f}=c.useContext(N),l=t||f("message"),i=z(l),[p,d,x]=H(l,i);return p(c.createElement(q,Object.assign({},m,{prefixCls:l,className:w(s,d,`${l}-notice-pure-panel`,x,i),eventKey:"pure",duration:null,content:c.createElement(Y,{prefixCls:l,type:n,icon:o},a)})))};function we(e,t){return{motionName:t??`${e}-move-up`}}function k(e){let t;const s=new Promise(o=>{t=e(()=>{o(!0)})}),n=()=>{t?.()};return n.then=(o,a)=>s.then(o,a),n.promise=s,n}var Re=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(s[n[o]]=e[n[o]]);return s};const Fe=8,Te=3,Me=({children:e,prefixCls:t})=>{const s=z(t),[n,o,a]=H(t,s);return n(c.createElement(se,{classNames:{list:w(o,a,s)}},e))},Ne=(e,{prefixCls:t,key:s})=>c.createElement(Me,{prefixCls:t,key:s},e),ke=c.forwardRef((e,t)=>{const{top:s,prefixCls:n,getContainer:o,maxCount:a,duration:m=Te,rtl:f,transitionName:l,onAllRemoved:i}=e,{getPrefixCls:p,getPopupContainer:d,message:x,direction:y}=c.useContext(N),r=n||p("message"),g=()=>({left:"50%",transform:"translateX(-50%)",top:s??Fe}),b=()=>w({[`${r}-rtl`]:f??y==="rtl"}),j=()=>we(r,l),$=c.createElement("span",{className:`${r}-close-x`},c.createElement(oe,{className:`${r}-close-icon`})),[I,S]=ne({prefixCls:r,style:g,className:b,motion:j,closable:!1,closeIcon:$,duration:m,getContainer:()=>o?.()||d?.()||document.body,maxCount:a,onAllRemoved:i,renderNotifications:Ne});return c.useImperativeHandle(t,()=>Object.assign(Object.assign({},I),{prefixCls:r,message:x})),S});let A=0;function B(e){const t=c.useRef(null);return ae(),[c.useMemo(()=>{const n=l=>{var i;(i=t.current)===null||i===void 0||i.close(l)},o=l=>{if(!t.current){const R=()=>{};return R.then=()=>{},R}const{open:i,prefixCls:p,message:d}=t.current,x=`${p}-notice`,{content:y,icon:r,type:g,key:b,className:j,style:$,onClose:I}=l,S=Re(l,["content","icon","type","key","className","style","onClose"]);let v=b;return v==null&&(A+=1,v=`antd-message-${A}`),k(R=>(i(Object.assign(Object.assign({},S),{key:v,content:c.createElement(Y,{prefixCls:p,type:g,icon:r},y),placement:"top",className:w(g&&`${x}-${g}`,j,d?.className),style:Object.assign(Object.assign({},d?.style),$),onClose:()=>{I?.(),R()}})),()=>{n(v)}))},m={open:o,destroy:l=>{var i;l!==void 0?n(l):(i=t.current)===null||i===void 0||i.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const i=(p,d,x)=>{let y;p&&typeof p=="object"&&"content"in p?y=p:y={content:p};let r,g;typeof d=="function"?g=d:(r=d,g=x);const b=Object.assign(Object.assign({onClose:g,duration:r},y),{type:l});return o(b)};m[l]=i}),m},[]),c.createElement(ke,Object.assign({key:"message-holder"},e,{ref:t}))]}function _e(e){return B(e)}let h=null,O=e=>e(),E=[],P={};function D(){const{getContainer:e,duration:t,rtl:s,maxCount:n,top:o}=P,a=e?.()||document.body;return{getContainer:()=>a,duration:t,rtl:s,maxCount:n,top:o}}const Le=C.forwardRef((e,t)=>{const{messageConfig:s,sync:n}=e,{getPrefixCls:o}=c.useContext(N),a=P.prefixCls||o("message"),m=c.useContext(ce),[f,l]=B(Object.assign(Object.assign(Object.assign({},s),{prefixCls:a}),m.message));return C.useImperativeHandle(t,()=>{const i=Object.assign({},f);return Object.keys(i).forEach(p=>{i[p]=(...d)=>(n(),f[p].apply(f,d))}),{instance:i,sync:n}}),l}),Ae=C.forwardRef((e,t)=>{const[s,n]=C.useState(D),o=()=>{n(D)};C.useEffect(o,[]);const a=le(),m=a.getRootPrefixCls(),f=a.getIconPrefixCls(),l=a.getTheme(),i=C.createElement(Le,{ref:t,sync:o,messageConfig:s});return C.createElement(ie,{prefixCls:m,iconPrefixCls:f,theme:l},a.holderRender?a.holderRender(i):i)});function T(){if(!h){const e=document.createDocumentFragment(),t={fragment:e};h=t,O(()=>{re()(C.createElement(Ae,{ref:n=>{const{instance:o,sync:a}=n||{};Promise.resolve().then(()=>{!t.instance&&o&&(t.instance=o,t.sync=a,T())})}}),e)});return}h.instance&&(E.forEach(e=>{const{type:t,skipped:s}=e;if(!s)switch(t){case"open":{O(()=>{const n=h.instance.open(Object.assign(Object.assign({},P),e.config));n?.then(e.resolve),e.setCloseFn(n)});break}case"destroy":O(()=>{h?.instance.destroy(e.key)});break;default:O(()=>{var n;const o=(n=h.instance)[t].apply(n,de(e.args));o?.then(e.resolve),e.setCloseFn(o)})}}),E=[])}function De(e){P=Object.assign(Object.assign({},P),e),O(()=>{var t;(t=h?.sync)===null||t===void 0||t.call(h)})}function ze(e){const t=k(s=>{let n;const o={type:"open",config:e,resolve:s,setCloseFn:a=>{n=a}};return E.push(o),()=>{n?O(()=>{n()}):o.skipped=!0}});return T(),t}function Ge(e,t){const s=k(n=>{let o;const a={type:e,args:t,resolve:n,setCloseFn:m=>{o=m}};return E.push(a),()=>{o?O(()=>{o()}):a.skipped=!0}});return T(),s}const He=e=>{E.push({type:"destroy",key:e}),T()},Ye=["success","info","warning","error","loading"],Be={open:ze,destroy:He,config:De,useMessage:_e,_InternalPanelDoNotUseOrYouWillBeFired:Pe},U=Be;Ye.forEach(e=>{U[e]=(...t)=>Ge(e,t)});const{Title:Ue}=ue,{Content:Ve}=G;function Ze(){const[e]=M.useForm(),[t,s]=c.useState(!1),[n,o]=c.useState(null),{data:a,isLoading:m}=fe(),f=ye(),l=xe(),i=he(),p=r=>{n?l.mutate({...r,id:n.id}):f.mutate(r),e.resetFields(),o(null),s(!1)},d=r=>{o(r),e.setFieldsValue(r),s(!0)},x=r=>{i.mutate(r)},y=[{title:"ID",dataIndex:"id",key:"id",render:r=>u.jsxs(L,{children:[u.jsx("code",{children:r}),u.jsx(F,{type:"text",icon:u.jsx(ge,{}),onClick:()=>{navigator.clipboard.writeText(r),U.success("ID nusxalandi!")}})]})},{title:"Sarlavha",dataIndex:"title",key:"title",render:r=>u.jsx("span",{style:{fontWeight:500},children:r})},{title:"Yaratilgan",dataIndex:"createdAt",key:"createdAt",render:r=>new Date(r).toLocaleString()},{title:"Amallar",key:"actions",render:(r,g)=>u.jsxs(L,{children:[u.jsx(F,{type:"text",icon:u.jsx(me,{}),onClick:()=>d(g),style:{color:"#1890ff"},children:"Tahrirlash"}),u.jsx(F,{type:"text",danger:!0,icon:u.jsx(Ie,{}),onClick:()=>x(g.id),children:"O'chirish"})]})}];return u.jsx(G,{children:u.jsxs(Ve,{children:[u.jsxs(ve,{style:{borderRadius:"12px",boxShadow:"0 2px 8px rgba(0,0,0,0.06)",border:"none"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[u.jsx(Ue,{level:3,children:"IELTS Ro'yxati"}),u.jsx(F,{type:"primary",icon:u.jsx(Ce,{}),size:"large",style:{borderRadius:"8px",borderColor:"#10b981",height:"44px",paddingLeft:"20px",paddingRight:"20px"},onClick:()=>{s(!0),e.resetFields(),o(null)},children:"Yangi IELTS Yaratish"})]}),u.jsx(be,{columns:y,dataSource:a?.data||[],rowKey:"id",loading:m,pagination:{total:a?.total,pageSize:a?.limit,current:a?.page,showQuickJumper:!0,showTotal:(r,g)=>`${g[0]}-${g[1]} / ${r} ta test`}})]}),u.jsx(pe,{title:n?"IELTSni tahrirlash":"Yangi IELTS qo'shish",open:t,onCancel:()=>{s(!1),o(null)},onOk:()=>e.submit(),okText:n?"Yangilash":"Yaratish",children:u.jsx(M,{form:e,layout:"vertical",onFinish:p,children:u.jsx(M.Item,{name:"title",label:"Sarlavha",rules:[{required:!0,message:"Iltimos, sarlavhani kiriting!"}],children:u.jsx(Oe,{placeholder:"Masalan: IELTS Mock Test 1"})})})})]})})}export{Ze as default};
