import{n as w,Y as ce,m as O,h as _,l as de,a4 as ie,_ as D,o as Pe,F as we,a6 as ue,Q as ke,w as Ne,p as Te,q as Ee,d as ze,r as $,D as Me,y as me,z as ge,u as k,A as Ae,C as he,b4 as Re,b5 as Be,a7 as pe,a8 as ve,b6 as Oe,N as oe,H as qe,G as le,j as n,T as be,B as R,az as ne,aA as ae,aB as G,aC as Z,b7 as _e,L as fe,M as se,a as Ke}from"./index-uUpZomyQ.js";import{S as X,b as He,a as Q,C as xe,R as ye,u as Le,F as De}from"./Table-XGYKetWf.js";import{R as V,C as q}from"./row-B70nMuzF.js";import{I as B}from"./index-VUfoB9ds.js";var Ce=w.forwardRef(function(t,e){var i=t.prefixCls,r=t.forceRender,l=t.className,c=t.style,g=t.children,v=t.isActive,a=t.role,d=t.classNames,o=t.styles,u=w.useState(v||r),h=ce(u,2),s=h[0],b=h[1];return w.useEffect(function(){(r||v)&&b(!0)},[r,v]),s?w.createElement("div",{ref:e,className:O("".concat(i,"-content"),_(_({},"".concat(i,"-content-active"),v),"".concat(i,"-content-inactive"),!v),l),style:c,role:a},w.createElement("div",{className:O("".concat(i,"-content-box"),d?.body),style:o?.body},g)):null});Ce.displayName="PanelContent";var Ge=["showArrow","headerClass","isActive","onItemClick","forceRender","className","classNames","styles","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],$e=w.forwardRef(function(t,e){var i=t.showArrow,r=i===void 0?!0:i,l=t.headerClass,c=t.isActive,g=t.onItemClick,v=t.forceRender,a=t.className,d=t.classNames,o=d===void 0?{}:d,u=t.styles,h=u===void 0?{}:u,s=t.prefixCls,b=t.collapsible,f=t.accordion,y=t.panelKey,x=t.extra,p=t.header,C=t.expandIcon,m=t.openMotion,j=t.destroyInactivePanel,I=t.children,T=de(t,Ge),S=b==="disabled",P=x!=null&&typeof x!="boolean",N=_(_(_({onClick:function(){g?.(y)},onKeyDown:function(A){(A.key==="Enter"||A.keyCode===ie.ENTER||A.which===ie.ENTER)&&g?.(y)},role:f?"tab":"button"},"aria-expanded",c),"aria-disabled",S),"tabIndex",S?-1:0),z=typeof C=="function"?C(t):w.createElement("i",{className:"arrow"}),K=z&&w.createElement("div",D({className:"".concat(s,"-expand-icon")},["header","icon"].includes(b)?N:{}),z),H=O("".concat(s,"-item"),_(_({},"".concat(s,"-item-active"),c),"".concat(s,"-item-disabled"),S),a),W=O(l,"".concat(s,"-header"),_({},"".concat(s,"-collapsible-").concat(b),!!b),o.header),M=Pe({className:W,style:h.header},["header","icon"].includes(b)?{}:N);return w.createElement("div",D({},T,{ref:e,className:H}),w.createElement("div",M,r&&K,w.createElement("span",D({className:"".concat(s,"-header-text")},b==="header"?N:{}),p),P&&w.createElement("div",{className:"".concat(s,"-extra")},x)),w.createElement(we,D({visible:c,leavedClassName:"".concat(s,"-content-hidden")},m,{forceRender:v,removeOnLeave:j}),function(E,A){var F=E.className,L=E.style;return w.createElement(Ce,{ref:A,prefixCls:s,className:F,classNames:o,style:L,styles:h,isActive:c,forceRender:v,role:f?"tabpanel":void 0},I)}))}),We=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Fe=function(e,i){var r=i.prefixCls,l=i.accordion,c=i.collapsible,g=i.destroyInactivePanel,v=i.onItemClick,a=i.activeKey,d=i.openMotion,o=i.expandIcon;return e.map(function(u,h){var s=u.children,b=u.label,f=u.key,y=u.collapsible,x=u.onItemClick,p=u.destroyInactivePanel,C=de(u,We),m=String(f??h),j=y??c,I=p??g,T=function(N){j!=="disabled"&&(v(N),x?.(N))},S=!1;return l?S=a[0]===m:S=a.indexOf(m)>-1,w.createElement($e,D({},C,{prefixCls:r,key:m,panelKey:m,isActive:S,accordion:l,openMotion:d,expandIcon:o,header:b,collapsible:j,onItemClick:T,destroyInactivePanel:I}),s)})},Qe=function(e,i,r){if(!e)return null;var l=r.prefixCls,c=r.accordion,g=r.collapsible,v=r.destroyInactivePanel,a=r.onItemClick,d=r.activeKey,o=r.openMotion,u=r.expandIcon,h=e.key||String(i),s=e.props,b=s.header,f=s.headerClass,y=s.destroyInactivePanel,x=s.collapsible,p=s.onItemClick,C=!1;c?C=d[0]===h:C=d.indexOf(h)>-1;var m=x??g,j=function(S){m!=="disabled"&&(a(S),p?.(S))},I={key:h,panelKey:h,header:b,headerClass:f,isActive:C,prefixCls:l,destroyInactivePanel:y??v,openMotion:o,accordion:c,children:e.props.children,onItemClick:j,expandIcon:u,collapsible:m};return typeof e.type=="string"?e:(Object.keys(I).forEach(function(T){typeof I[T]>"u"&&delete I[T]}),w.cloneElement(e,I))};function Xe(t,e,i){return Array.isArray(t)?Fe(t,i):ue(e).map(function(r,l){return Qe(r,l,i)})}function Ve(t){var e=t;if(!Array.isArray(e)){var i=Ee(e);e=i==="number"||i==="string"?[e]:[]}return e.map(function(r){return String(r)})}var Ye=w.forwardRef(function(t,e){var i=t.prefixCls,r=i===void 0?"rc-collapse":i,l=t.destroyInactivePanel,c=l===void 0?!1:l,g=t.style,v=t.accordion,a=t.className,d=t.children,o=t.collapsible,u=t.openMotion,h=t.expandIcon,s=t.activeKey,b=t.defaultActiveKey,f=t.onChange,y=t.items,x=O(r,a),p=ke([],{value:s,onChange:function(P){return f?.(P)},defaultValue:b,postState:Ve}),C=ce(p,2),m=C[0],j=C[1],I=function(P){return j(function(){if(v)return m[0]===P?[]:[P];var N=m.indexOf(P),z=N>-1;return z?m.filter(function(K){return K!==P}):[].concat(ze(m),[P])})};Ne(!d,"[rc-collapse] `children` will be removed in next major version. Please use `items` instead.");var T=Xe(y,d,{prefixCls:r,accordion:v,openMotion:u,expandIcon:h,collapsible:o,destroyInactivePanel:c,onItemClick:I,activeKey:m});return w.createElement("div",D({ref:e,className:x,style:g,role:v?"tablist":void 0},Te(t,{aria:!0,data:!0})),T)});const re=Object.assign(Ye,{Panel:$e});re.Panel;const Ue=$.forwardRef((t,e)=>{const{getPrefixCls:i}=$.useContext(Me),{prefixCls:r,className:l,showArrow:c=!0}=t,g=i("collapse",r),v=O({[`${g}-no-arrow`]:!c},l);return $.createElement(re.Panel,Object.assign({ref:e},t,{prefixCls:g,className:v}))}),Je=t=>{const{componentCls:e,contentBg:i,padding:r,headerBg:l,headerPadding:c,collapseHeaderPaddingSM:g,collapseHeaderPaddingLG:v,collapsePanelBorderRadius:a,lineWidth:d,lineType:o,colorBorder:u,colorText:h,colorTextHeading:s,colorTextDisabled:b,fontSizeLG:f,lineHeight:y,lineHeightLG:x,marginSM:p,paddingSM:C,paddingLG:m,paddingXS:j,motionDurationSlow:I,fontSizeIcon:T,contentPadding:S,fontHeight:P,fontHeightLG:N}=t,z=`${k(d)} ${o} ${u}`;return{[e]:Object.assign(Object.assign({},he(t)),{backgroundColor:l,border:z,borderRadius:a,"&-rtl":{direction:"rtl"},[`& > ${e}-item`]:{borderBottom:z,"&:first-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`${k(a)} ${k(a)} 0 0`}},"&:last-child":{[`
            &,
            & > ${e}-header`]:{borderRadius:`0 0 ${k(a)} ${k(a)}`}},[`> ${e}-header`]:Object.assign(Object.assign({position:"relative",display:"flex",flexWrap:"nowrap",alignItems:"flex-start",padding:c,color:s,lineHeight:y,cursor:"pointer",transition:`all ${I}, visibility 0s`},Re(t)),{[`> ${e}-header-text`]:{flex:"auto"},[`${e}-expand-icon`]:{height:P,display:"flex",alignItems:"center",paddingInlineEnd:p},[`${e}-arrow`]:Object.assign(Object.assign({},Be()),{fontSize:T,transition:`transform ${I}`,svg:{transition:`transform ${I}`}}),[`${e}-header-text`]:{marginInlineEnd:"auto"}}),[`${e}-collapsible-header`]:{cursor:"default",[`${e}-header-text`]:{flex:"none",cursor:"pointer"}},[`${e}-collapsible-icon`]:{cursor:"unset",[`${e}-expand-icon`]:{cursor:"pointer"}}},[`${e}-content`]:{color:h,backgroundColor:i,borderTop:z,[`& > ${e}-content-box`]:{padding:S},"&-hidden":{display:"none"}},"&-small":{[`> ${e}-item`]:{[`> ${e}-header`]:{padding:g,paddingInlineStart:j,[`> ${e}-expand-icon`]:{marginInlineStart:t.calc(C).sub(j).equal()}},[`> ${e}-content > ${e}-content-box`]:{padding:C}}},"&-large":{[`> ${e}-item`]:{fontSize:f,lineHeight:x,[`> ${e}-header`]:{padding:v,paddingInlineStart:r,[`> ${e}-expand-icon`]:{height:N,marginInlineStart:t.calc(m).sub(r).equal()}},[`> ${e}-content > ${e}-content-box`]:{padding:m}}},[`${e}-item:last-child`]:{borderBottom:0,[`> ${e}-content`]:{borderRadius:`0 0 ${k(a)} ${k(a)}`}},[`& ${e}-item-disabled > ${e}-header`]:{"\n          &,\n          & > .arrow\n        ":{color:b,cursor:"not-allowed"}},[`&${e}-icon-position-end`]:{[`& > ${e}-item`]:{[`> ${e}-header`]:{[`${e}-expand-icon`]:{order:1,paddingInlineEnd:0,paddingInlineStart:p}}}}})}},Ze=t=>{const{componentCls:e}=t,i=`> ${e}-item > ${e}-header ${e}-arrow`;return{[`${e}-rtl`]:{[i]:{transform:"rotate(180deg)"}}}},et=t=>{const{componentCls:e,headerBg:i,borderlessContentPadding:r,borderlessContentBg:l,colorBorder:c}=t;return{[`${e}-borderless`]:{backgroundColor:i,border:0,[`> ${e}-item`]:{borderBottom:`1px solid ${c}`},[`
        > ${e}-item:last-child,
        > ${e}-item:last-child ${e}-header
      `]:{borderRadius:0},[`> ${e}-item:last-child`]:{borderBottom:0},[`> ${e}-item > ${e}-content`]:{backgroundColor:l,borderTop:0},[`> ${e}-item > ${e}-content > ${e}-content-box`]:{padding:r}}}},tt=t=>{const{componentCls:e,paddingSM:i}=t;return{[`${e}-ghost`]:{backgroundColor:"transparent",border:0,[`> ${e}-item`]:{borderBottom:0,[`> ${e}-content`]:{backgroundColor:"transparent",border:0,[`> ${e}-content-box`]:{paddingBlock:i}}}}}},nt=t=>({headerPadding:`${t.paddingSM}px ${t.padding}px`,headerBg:t.colorFillAlter,contentPadding:`${t.padding}px 16px`,contentBg:t.colorBgContainer,borderlessContentPadding:`${t.paddingXXS}px 16px ${t.padding}px`,borderlessContentBg:"transparent"}),at=me("Collapse",t=>{const e=ge(t,{collapseHeaderPaddingSM:`${k(t.paddingXS)} ${k(t.paddingSM)}`,collapseHeaderPaddingLG:`${k(t.padding)} ${k(t.paddingLG)}`,collapsePanelBorderRadius:t.borderRadiusLG});return[Je(e),et(e),tt(e),Ze(e),Ae(e)]},nt),rt=$.forwardRef((t,e)=>{const{getPrefixCls:i,direction:r,expandIcon:l,className:c,style:g}=pe("collapse"),{prefixCls:v,className:a,rootClassName:d,style:o,bordered:u=!0,ghost:h,size:s,expandIconPosition:b="start",children:f,destroyInactivePanel:y,destroyOnHidden:x,expandIcon:p}=t,C=ve(M=>{var E;return(E=s??M)!==null&&E!==void 0?E:"middle"}),m=i("collapse",v),j=i(),[I,T,S]=at(m),P=$.useMemo(()=>b==="left"?"start":b==="right"?"end":b,[b]),N=p??l,z=$.useCallback((M={})=>{const E=typeof N=="function"?N(M):$.createElement(Oe,{rotate:M.isActive?r==="rtl"?-90:90:void 0,"aria-label":M.isActive?"expanded":"collapsed"});return oe(E,()=>{var A;return{className:O((A=E?.props)===null||A===void 0?void 0:A.className,`${m}-arrow`)}})},[N,m]),K=O(`${m}-icon-position-${P}`,{[`${m}-borderless`]:!u,[`${m}-rtl`]:r==="rtl",[`${m}-ghost`]:!!h,[`${m}-${C}`]:C!=="middle"},c,a,d,T,S),H=Object.assign(Object.assign({},qe(j)),{motionAppear:!1,leavedClassName:`${m}-content-hidden`}),W=$.useMemo(()=>f?ue(f).map((M,E)=>{var A,F;const L=M.props;if(L?.disabled){const je=(A=M.key)!==null&&A!==void 0?A:String(E),Ie=Object.assign(Object.assign({},le(M.props,["disabled"])),{key:je,collapsible:(F=L.collapsible)!==null&&F!==void 0?F:"disabled"});return oe(M,Ie)}return M}):null,[f]);return I($.createElement(re,Object.assign({ref:e,openMotion:H},le(t,["rootClassName"]),{expandIcon:z,prefixCls:m,className:K,style:Object.assign(Object.assign({},g),o),destroyInactivePanel:x??y}),W))}),Se=Object.assign(rt,{Panel:Ue}),it=t=>{const{componentCls:e}=t;return{[e]:{"&-horizontal":{[`&${e}`]:{"&-sm":{marginBlock:t.marginXS},"&-md":{marginBlock:t.margin}}}}}},ot=t=>{const{componentCls:e,sizePaddingEdgeHorizontal:i,colorSplit:r,lineWidth:l,textPaddingInline:c,orientationMargin:g,verticalMarginInline:v}=t;return{[e]:Object.assign(Object.assign({},he(t)),{borderBlockStart:`${k(l)} solid ${r}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:v,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${k(l)} solid ${r}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${k(t.marginLG)} 0`},[`&-horizontal${e}-with-text`]:{display:"flex",alignItems:"center",margin:`${k(t.dividerHorizontalWithTextGutterMargin)} 0`,color:t.colorTextHeading,fontWeight:500,fontSize:t.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${r}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${k(l)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${e}-with-text-start`]:{"&::before":{width:`calc(${g} * 100%)`},"&::after":{width:`calc(100% - ${g} * 100%)`}},[`&-horizontal${e}-with-text-end`]:{"&::before":{width:`calc(100% - ${g} * 100%)`},"&::after":{width:`calc(${g} * 100%)`}},[`${e}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:c},"&-dashed":{background:"none",borderColor:r,borderStyle:"dashed",borderWidth:`${k(l)} 0 0`},[`&-horizontal${e}-with-text${e}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${e}-dashed`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},"&-dotted":{background:"none",borderColor:r,borderStyle:"dotted",borderWidth:`${k(l)} 0 0`},[`&-horizontal${e}-with-text${e}-dotted`]:{"&::before, &::after":{borderStyle:"dotted none none"}},[`&-vertical${e}-dotted`]:{borderInlineStartWidth:l,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${e}-with-text`]:{color:t.colorText,fontWeight:"normal",fontSize:t.fontSize},[`&-horizontal${e}-with-text-start${e}-no-default-orientation-margin-start`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${e}-inner-text`]:{paddingInlineStart:i}},[`&-horizontal${e}-with-text-end${e}-no-default-orientation-margin-end`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${e}-inner-text`]:{paddingInlineEnd:i}}})}},lt=t=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:t.marginXS}),st=me("Divider",t=>{const e=ge(t,{dividerHorizontalWithTextGutterMargin:t.margin,sizePaddingEdgeHorizontal:0});return[ot(e),it(e)]},lt,{unitless:{orientationMargin:!0}});var ct=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(t);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(t,r[l])&&(i[r[l]]=t[r[l]]);return i};const dt={small:"sm",middle:"md"},Y=t=>{const{getPrefixCls:e,direction:i,className:r,style:l}=pe("divider"),{prefixCls:c,type:g="horizontal",orientation:v="center",orientationMargin:a,className:d,rootClassName:o,children:u,dashed:h,variant:s="solid",plain:b,style:f,size:y}=t,x=ct(t,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","variant","plain","style","size"]),p=e("divider",c),[C,m,j]=st(p),I=ve(y),T=dt[I],S=!!u,P=$.useMemo(()=>v==="left"?i==="rtl"?"end":"start":v==="right"?i==="rtl"?"start":"end":v,[i,v]),N=P==="start"&&a!=null,z=P==="end"&&a!=null,K=O(p,r,m,j,`${p}-${g}`,{[`${p}-with-text`]:S,[`${p}-with-text-${P}`]:S,[`${p}-dashed`]:!!h,[`${p}-${s}`]:s!=="solid",[`${p}-plain`]:!!b,[`${p}-rtl`]:i==="rtl",[`${p}-no-default-orientation-margin-start`]:N,[`${p}-no-default-orientation-margin-end`]:z,[`${p}-${T}`]:!!T},d,o),H=$.useMemo(()=>typeof a=="number"?a:/^\d+$/.test(a)?Number(a):a,[a]),W={marginInlineStart:N?H:void 0,marginInlineEnd:z?H:void 0};return C($.createElement("div",Object.assign({className:K,style:Object.assign(Object.assign({},l),f)},x,{role:"separator"}),u&&g!=="vertical"&&$.createElement("span",{className:`${p}-inner-text`,style:W},u)))},{TextArea:U}=B,{Title:J}=be,{Panel:ut}=Se,mt=["PART1","PART2","PART3"];function gt({initialData:t,onSubmit:e,onCancel:i}){const[r,l]=$.useState(t||{title:"",ieltsId:"",sections:[]}),c=(a,d)=>{const o=[...r.sections];o[a]=d,l({...r,sections:o})},g=()=>{const a={order:r.sections.length+1,title:"",type:"PART1",description:"",content:"",images:[],advantages:[],disadvantages:[],subParts:[],questions:[]};l({...r,sections:[...r.sections,a]})},v=a=>{const d=r.sections.filter((o,u)=>u!==a);l({...r,sections:d})};return n.jsxs(X,{direction:"vertical",style:{width:"100%"},children:[n.jsx(J,{level:4,children:"ðŸ“‹ Asosiy ma'lumotlar"}),n.jsxs(V,{gutter:24,children:[n.jsxs(q,{span:12,children:[n.jsx("label",{children:"Test nomi"}),n.jsx(B,{value:r.title,onChange:a=>l({...r,title:a.target.value})})]}),n.jsxs(q,{span:12,children:[n.jsx("label",{children:"IELTS ID"}),n.jsx(B,{value:r.ieltsId,onChange:a=>l({...r,ieltsId:a.target.value})})]})]}),n.jsx(Y,{}),n.jsx(J,{level:4,children:"ðŸ§© Boâ€˜limlar"}),n.jsx(Se,{accordion:!0,children:r.sections.map((a,d)=>n.jsxs(ut,{header:`${d+1}-boâ€˜lim: ${a.title||"No title"}`,extra:n.jsx(R,{danger:!0,size:"small",icon:n.jsx(ye,{}),onClick:o=>{o.stopPropagation(),v(d)}}),children:[n.jsxs(V,{gutter:16,children:[n.jsxs(q,{span:8,children:[n.jsx("label",{children:"Boâ€˜lim turi"}),n.jsx(He,{style:{width:"100%"},value:a.type,onChange:o=>c(d,{...a,type:o}),options:mt.map(o=>({value:o,label:o}))})]}),n.jsxs(q,{span:16,children:[n.jsx("label",{children:"Sarlavha"}),n.jsx(B,{value:a.title,onChange:o=>c(d,{...a,title:o.target.value})})]})]}),n.jsxs(V,{gutter:16,style:{marginTop:12},children:[n.jsxs(q,{span:12,children:[n.jsx("label",{children:"Afzalliklar"}),n.jsx(B,{value:a.advantages.join(","),placeholder:"Afzalliklarni vergul bilan ajrating",onChange:o=>c(d,{...a,advantages:o.target.value.split(",")})})]}),n.jsxs(q,{span:12,children:[n.jsx("label",{children:"Kamchiliklar"}),n.jsx(B,{value:a.disadvantages.join(","),placeholder:"Kamchiliklarni vergul bilan ajrating",onChange:o=>c(d,{...a,disadvantages:o.target.value.split(",")})})]})]}),n.jsx("label",{style:{marginTop:12},children:"Savol matni"}),n.jsx(U,{rows:2,value:a.content,onChange:o=>c(d,{...a,content:o.target.value})}),n.jsx("label",{style:{marginTop:12},children:"Tavsif"}),n.jsx(U,{rows:2,value:a.description,onChange:o=>c(d,{...a,description:o.target.value})}),n.jsx("label",{style:{marginTop:12},children:"Rasmlar (URL vergul bilan)"}),n.jsx(B,{value:a.images.join(","),onChange:o=>c(d,{...a,images:o.target.value.split(",")})}),n.jsx(Y,{}),n.jsx(J,{level:5,children:"ðŸ“š Savollar"}),n.jsxs(X,{direction:"vertical",style:{width:"100%"},children:[a.questions.map((o,u)=>n.jsx(U,{rows:2,placeholder:`Savol ${u+1}`,value:o.question,onChange:h=>{const s=[...a.questions];s[u]={...s[u],question:h.target.value},c(d,{...a,questions:s})}},u)),n.jsx(R,{type:"dashed",icon:n.jsx(Q,{}),onClick:()=>c(d,{...a,questions:[...a.questions,{order:a.questions.length+1,question:""}]}),children:"Savol qoâ€˜shish"})]}),n.jsx(Y,{}),n.jsx(J,{level:5,children:"ðŸ”¹ SubParts"}),a.subParts.map((o,u)=>n.jsxs(xe,{size:"small",title:`SubPart ${u+1}`,style:{marginBottom:12},children:[n.jsxs(V,{gutter:16,children:[n.jsx(q,{span:12,children:n.jsx(B,{placeholder:"Label",value:o.label,onChange:h=>{const s=[...a.subParts];s[u]={...o,label:h.target.value},c(d,{...a,subParts:s})}})}),n.jsx(q,{span:12,children:n.jsx(B,{placeholder:"Tavsif",value:o.description,onChange:h=>{const s=[...a.subParts];s[u]={...o,description:h.target.value},c(d,{...a,subParts:s})}})})]}),o.questions.map((h,s)=>n.jsx(U,{rows:2,placeholder:`Savol ${s+1}`,value:h.question,onChange:b=>{const f=[...o.questions];f[s]={...h,question:b.target.value};const y=[...a.subParts];y[u]={...o,questions:f},c(d,{...a,subParts:y})}},s)),n.jsx(R,{type:"dashed",size:"small",icon:n.jsx(Q,{}),onClick:()=>{const h=[...a.subParts];h[u]={...o,questions:[...o.questions,{order:o.questions.length+1,question:""}]},c(d,{...a,subParts:h})},children:"Savol qoâ€˜shish"})]},u)),n.jsx(R,{type:"dashed",icon:n.jsx(Q,{}),onClick:()=>{const o={label:"",description:"",questions:[]};c(d,{...a,subParts:[...a.subParts,o]})},children:"SubPart qoâ€˜shish"})]},d))}),n.jsx(R,{icon:n.jsx(Q,{}),onClick:g,block:!0,children:"Boâ€˜lim qoâ€˜shish"}),n.jsx(Y,{}),n.jsxs(X,{children:[n.jsx(R,{onClick:i,children:"Bekor qilish"}),n.jsx(R,{type:"primary",onClick:()=>e(r),children:"Saqlash"})]})]})}const ee=["speaking-test"],te=_e,ht=(t=1,e=10)=>Le({queryKey:[...ee,t,e],queryFn:async()=>{const{data:i}=await Z.get(`${te}?page=${t}&limit=${e}`);return i},staleTime:1e3*60*5,retry:1}),pt=()=>{const t=ne();return ae({mutationFn:async e=>{const{data:i}=await Z.post(te,e);return i},onSuccess:()=>{t.invalidateQueries({queryKey:ee}),G.success({message:"Speaking Test muvaffaqiyatli yaratildi",placement:"bottomRight"})},onError:()=>{G.error({message:"Speaking Test yaratishda xatolik yuz berdi",placement:"bottomRight"})}})},vt=()=>{const t=ne();return ae({mutationFn:async({id:e,...i})=>{const{data:r}=await Z.patch(`${te}/${e}`,i);return r},onSuccess:()=>{t.invalidateQueries({queryKey:ee}),G.success({message:"Speaking Test yangilandi",placement:"bottomRight"})},onError:()=>{G.error({message:"Speaking Test yangilashda xatolik yuz berdi",placement:"bottomRight"})}})},bt=()=>{const t=ne();return ae({mutationFn:async e=>{const{data:i}=await Z.delete(`${te}/${e}`);return i},onSuccess:()=>{t.invalidateQueries({queryKey:ee}),G.success({message:"Speaking Test oâ€˜chirildi",placement:"bottomRight"})},onError:()=>{G.error({message:"Speaking Test oâ€˜chirishda xatolik yuz berdi",placement:"bottomRight"})}})},{Content:ft}=fe,{Title:xt}=be;function jt(){const[t,e]=$.useState(1),[i]=$.useState(10),[r,l]=$.useState(!1),[c,g]=$.useState(null),[v,a]=$.useState(!1),[d,o]=$.useState(null),{data:u,isLoading:h}=ht(t,i),s=pt(),b=vt(),f=bt(),y=m=>{c?b.mutate({id:c.id,...m}):s.mutate(m),l(!1),g(null)},x=u?.data||[],p=u?.total||0,C=[{title:"Nomi",dataIndex:"title",key:"title"},{title:"IELTS ID",dataIndex:"ieltsId",key:"ieltsId",render:m=>n.jsx("code",{children:m})},{title:"Boâ€˜limlar",dataIndex:"sections",key:"sections",render:m=>m.length},{title:"Amallar",key:"actions",render:(m,j)=>n.jsxs(X,{children:[n.jsx(R,{type:"text",icon:n.jsx(Ke,{}),onClick:()=>{g(j),l(!0)},children:"Tahrirlash"}),n.jsx(R,{type:"text",danger:!0,icon:n.jsx(ye,{}),onClick:()=>{o(j.id),a(!0)},children:"Oâ€˜chirish"})]})}];return n.jsx(fe,{children:n.jsxs(ft,{style:{padding:24},children:[n.jsxs(xe,{style:{borderRadius:12,boxShadow:"0 2px 8px rgba(0,0,0,0.06)"},children:[n.jsxs(X,{style:{width:"100%",justifyContent:"space-between",marginBottom:20},children:[n.jsx(xt,{level:3,children:"ðŸŽ¤ Speaking Testlar"}),n.jsx(R,{type:"primary",icon:n.jsx(Q,{}),onClick:()=>{g(null),l(!0)},children:"Yangi Test"})]}),n.jsx(De,{rowKey:"id",loading:h,dataSource:x,columns:C,pagination:{current:t,pageSize:i,total:p,onChange:e,showQuickJumper:!0}})]}),n.jsx(se,{open:v,title:"Testni o'chirmoqchimisiz?",okText:"Ha, o'chirish",cancelText:"Bekor",onOk:()=>d&&f.mutate(d,{onSuccess:()=>a(!1)}),onCancel:()=>a(!1),children:n.jsx("p",{children:"Bu amalni qaytarib boâ€˜lmaydi."})}),n.jsx(se,{title:c?"Tahrirlash":"Yangi Speaking Test",visible:r,width:900,footer:null,onCancel:()=>l(!1),children:n.jsx(gt,{initialData:c??void 0,onSubmit:y,onCancel:()=>l(!1)})})]})})}export{jt as default};
